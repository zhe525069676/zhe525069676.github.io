I"<h1 id="mac下使用抓包工具charles进行抓包">Mac下使用抓包工具–Charles进行抓包</h1>
<hr />

<p><img src="/assets/images/charles/charles_logo.png" style="width: 50%;" /></p>

<p><a href="http://www.charlesproxy.com/">官网地址</a></p>

<h2 id="破解教程">破解教程</h2>

<p>破解文件提取地址(4.1.4)：
<a href="https://pan.baidu.com/s/1c2mz0YW">https://pan.baidu.com/s/1eRNYPxg</a>
密码：4stp</p>

<p><a href="http://charles.iiilab.com/">其他版本看这里</a></p>

<h4 id="步骤">步骤</h4>

<ul>
  <li>打开 Fidder，找到应用程序中的 Charles，右击显示包内容</li>
</ul>

<p><img src="/assets/images/charles/charles_step1.png" style="width: 50%;" /></p>

<ul>
  <li>使用上面提取出来的破解文件替换charles.jar文件即可</li>
</ul>

<p><img src="/assets/images/charles/charles_step2.png" style="width: 50%;" /></p>

<h2 id="抓包原理">抓包原理</h2>

<p><a href="http://mouxuejie.com/blog/2017-03-19/capture-package-principle/">某学姐带你了解抓包原理</a></p>

<h4 id="http抓包">HTTP抓包</h4>

<p>1、打开Charles；</p>

<p>2、保证手机和Mac在一个局域网，设置-&gt;无线网络-&gt;“你连接的网络”详情-&gt;代理设置-&gt;手动-&gt;输入Mac的IP地址和端口号8888；</p>

<p><img src="/assets/images/charles/charles_step4.png" style="width: 50%;" /></p>

<p><img src="/assets/images/charles/charles_step5.png" style="width: 50%;" /></p>

<p>3、当设备访问app接口时，在Charles会弹出确认选，选择Allow；</p>

<p><img src="/assets/images/charles/charles_step3.png" style="width: 50%;" /></p>

<p>效果如下:</p>

<p><img src="/assets/images/charles/charles_step6.png" style="width: 50%;" /></p>

<h4 id="https抓包">HTTPS抓包</h4>

<p>1、菜单栏 Help -&gt; SSL Proxying -&gt; Install Charles Root Certificate，找到Charles Proxy CA 证书，双击打开证书信息页面，将 加密套接字协议层(SSL) 设置为始终信任；</p>

<p><img src="/assets/images/charles/charles_step7.png" style="width: 50%;" /></p>

<p>2、手机浏览器打开 http://charlesproxy.com/getssl 下载证书，最好使用类似UC之类的浏览器app访问，下载完成之后自动配置；</p>

<p>3、开启SSL代理，Proxy-&gt;SSL Proxying Setting，在Locations里面添加要使用SSL代理的网站，端口号输入443，如果需要匹配所有的HTTPS网站则输入 * 号即可。现在即可拦截Https的数据包。</p>

<p><img src="/assets/images/charles/charles_step9.png" style="width: 50%;" /></p>

<p>效果如下：</p>

<p><img src="/assets/images/charles/charles_step8.png" style="width: 50%;" /></p>

<h4 id="关于我">关于我</h4>
<p>QQ交流群:496946393</p>

<p>邮箱: nh_zhe@163.com</p>

<p><a href="https://github.com/zhe525069676">GitHub</a></p>

<p><a href="http://www.jianshu.com/users/550d52af9d72/latest_articles">简书</a></p>

<p><a href="http://www.zheblog.com">个人博客</a></p>

:ET