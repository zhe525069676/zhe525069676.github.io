I"×<h2 id="android-æ ¹æ®åŒ…åè·å–sha1å’Œmd5">Android æ ¹æ®åŒ…åè·å–SHA1å’ŒMD5</h2>
<hr />
<p>```
	//è¿™ä¸ªæ˜¯è·å–SHA1çš„æ–¹æ³•
    public static String getCertificateSHA1Fingerprint(Context context,String packageName) {
        //è·å–åŒ…ç®¡ç†å™¨
        PackageManager pm = context.getPackageManager();
        //è·å–å½“å‰è¦è·å–SHA1å€¼çš„åŒ…åï¼Œä¹Ÿå¯ä»¥ç”¨å…¶ä»–çš„åŒ…åï¼Œä½†éœ€è¦æ³¨æ„ï¼Œ
        //åœ¨ç”¨å…¶ä»–åŒ…åçš„å‰ææ˜¯ï¼Œæ­¤æ–¹æ³•ä¼ é€’çš„å‚æ•°Contextåº”è¯¥æ˜¯å¯¹åº”åŒ…çš„ä¸Šä¸‹æ–‡ã€‚
        //è¿”å›åŒ…æ‹¬åœ¨åŒ…ä¸­çš„ç­¾åä¿¡æ¯
        int flags = PackageManager.GET_SIGNATURES;
        PackageInfo packageInfo = null;
        try {
            //è·å¾—åŒ…çš„æ‰€æœ‰å†…å®¹ä¿¡æ¯ç±»
            packageInfo = pm.getPackageInfo(packageName, flags);
        } catch (PackageManager.NameNotFoundException e) {
            e.printStackTrace();
        }
        //ç­¾åä¿¡æ¯
        Signature[] signatures = packageInfo.signatures;
        byte[] cert = signatures[0].toByteArray();
        //å°†ç­¾åè½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„æµ
        InputStream input = new ByteArrayInputStream(cert);
        //è¯ä¹¦å·¥å‚ç±»ï¼Œè¿™ä¸ªç±»å®ç°äº†å‡ºå‚åˆæ ¼è¯ç®—æ³•çš„åŠŸèƒ½
        CertificateFactory cf = null;
        try {
            cf = CertificateFactory.getInstance(â€œX509â€);
        } catch (CertificateException e) {
            e.printStackTrace();
        }
        //X509è¯ä¹¦ï¼ŒX.509æ˜¯ä¸€ç§éå¸¸é€šç”¨çš„è¯ä¹¦æ ¼å¼
        X509Certificate c = null;
        try {
            c = (X509Certificate) cf.generateCertificate(input);
        } catch (CertificateException e) {
            e.printStackTrace();
        }
        String hexString = null;
        try {
            //åŠ å¯†ç®—æ³•çš„ç±»ï¼Œè¿™é‡Œçš„å‚æ•°å¯ä»¥ä½¿MD4,MD5ç­‰åŠ å¯†ç®—æ³•
            MessageDigest md = MessageDigest.getInstance(â€œSHA1â€);
            //è·å¾—å…¬é’¥
            byte[] publicKey = md.digest(c.getEncoded());
            //å­—èŠ‚åˆ°åå…­è¿›åˆ¶çš„æ ¼å¼è½¬æ¢
            hexString = byte2HexFormatted(publicKey);
        } catch (NoSuchAlgorithmException e1) {
            e1.printStackTrace();
        } catch (CertificateEncodingException e) {
            e.printStackTrace();
        }
        return hexString;
    }</p>
:ET